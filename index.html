<!doctype html><html lang="th"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>OrbitGrid LiveBench | Business Platform</title><meta name="description" content="Business platform for data comparison, uploads, drill-down, export"/><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@500;700&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css"/><style>:root{--brand:#2f6ee5;--brand-2:#00c2a8;--ink:#0b1220;--muted:#64748b;--bg:#f7f9fc;--card:#fff;--warn:#ffb020}*{box-sizing:border-box}html,body{margin:0}body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:var(--bg)}a{color:var(--brand);text-decoration:none}.container{max-width:1120px;margin:0 auto;padding:0 20px}header.header{position:sticky;top:0;background:#fff;border-bottom:1px solid #e6eaf2;z-index:10}.nav{display:flex;align-items:center;justify-content:space-between;height:64px}.brand{display:flex;gap:10px;align-items:center;font:700 18px Poppins;color:var(--ink)}.brand-badge{width:28px;height:28px;border-radius:8px;background:linear-gradient(135deg,var(--brand),var(--brand-2));display:grid;place-items:center;color:#fff;font-weight:700}.nav ul{display:flex;gap:18px;list-style:none;padding:0;margin:0}.btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;border:1px solid #e6eaf2;background:#fff;color:var(--ink);font-weight:600}.btn-primary{background:var(--brand);border-color:var(--brand);color:#fff}.hero{padding:64px 0;background:radial-gradient(1200px 600px at 80% -10%, #dfe9ff 0%, rgba(223,233,255,0) 60%), #fff}.hero-grid{display:grid;grid-template-columns:1.2fr 1fr;gap:32px;align-items:center}.kpis{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:18px}.kpi{background:var(--card);border:1px solid #e6eaf2;border-radius:14px;padding:14px}.pill{display:inline-flex;gap:6px;align-items:center;background:#eef4ff;color:#1d4ed8;padding:6px 10px;border-radius:20px;font-size:12px;font-weight:600}section{padding:56px 0}.cards{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.card{background:var(--card);border:1px solid #e6eaf2;border-radius:16px;padding:18px}.card h3{margin:8px 0 4px}.muted{color:var(--muted)}.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:20px}.chip{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;font-size:12px;border:1px solid #e6eaf2}.heat{height:10px;border-radius:8px;background:linear-gradient(90deg,#22c55e,var(--warn),#ef4444)}.flex{display:flex;gap:8px;align-items:center}.toolbar{display:flex;justify-content:space-between;align-items:center;margin:8px 0 14px}.footer{padding:28px 0;border-top:1px solid #e6eaf2;color:var(--muted)}iframe.hidden{width:0;height:0;border:0;visibility:hidden}table{width:100%;border-collapse:collapse}th,td{padding:8px;border-bottom:1px solid #eef2f7;text-align:left}@media (max-width:960px){.hero-grid{grid-template-columns:1fr}.cards{grid-template-columns:1fr}.grid-2{grid-template-columns:1fr}}</style></head><body><header class="header"><div class="container nav"><div class="brand"><div class="brand-badge">OG</div>OrbitGrid LiveBench</div><ul><li><a href="#features">ฟีเจอร์</a></li><li><a href="#compare">Comparison</a></li><li><a href="#upload">อัปโหลดข้อมูล</a></li><li><a href="#export">Export</a></li></ul><a class="btn btn-primary" href="#compare">ลองใช้งาน</a></div></header><section class="hero"><div class="container hero-grid"><div><span class="pill"><i class="ti ti-rocket"></i> Business Platform</span><h1 style="font-family:Poppins;margin:10px 0 8px;font-size:40px">แพลตฟอร์มเปรียบเทียบข้อมูลแบบโต้ตอบ</h1><p class="muted">อัปโหลดไฟล์ เปรียบเทียบด้วย Heatmap/Highlight/Drill-down และส่งออกผลลัพธ์</p><div style="display:flex;gap:10px;margin-top:14px"><a class="btn btn-primary" href="#compare"><i class="ti ti-chart-donut-2"></i> เริ่มเปรียบเทียบ</a><a class="btn" href="#features"><i class="ti ti-list-details"></i> ดูฟีเจอร์ทั้งหมด</a></div><div class="kpis"><div class="kpi"><div class="muted">Data Models</div><div style="font-weight:700;font-size:20px">10+</div></div><div class="kpi"><div class="muted">Exports</div><div style="font-weight:700;font-size:20px">CSV, PNG</div></div><div class="kpi"><div class="muted">Upload</div><div style="font-weight:700;font-size:20px">CSV/JSON</div></div></div></div><div class="card"><h3 style="margin:0 0 8px">Preview: Heatmap</h3><div class="heat" id="heat-preview"></div><div class="muted" style="margin-top:8px">สีเข้ม = ค่าความต่างสูง</div></div></div></section><section id="features"><div class="container"><h2 style="font-family:Poppins;margin:0 0 10px">ฟีเจอร์หลัก</h2><div class="cards"><div class="card"><h3><i class="ti ti-upload"></i> Upload</h3><p class="muted">รองรับ CSV/JSON พร้อมตรวจ schema ขั้นต้น</p></div><div class="card"><h3><i class="ti ti-heatmap"></i> Heatmap</h3><p class="muted">แสดงความต่างเชิงสี ปรับเกณฑ์ได้</p></div><div class="card"><h3><i class="ti ti-highlight"></i> Highlight Chips</h3><p class="muted">ติดป้ายความต่าง per-field</p></div><div class="card"><h3><i class="ti ti-arrows-double-ne_sw"></i> Drill-down</h3><p class="muted">คลิกเพื่อดูรายละเอียดเชิงลึก</p></div><div class="card"><h3><i class="ti ti-file-export"></i> Export</h3><p class="muted">ส่งออกผลเป็น CSV/PNG</p></div><div class="card"><h3><i class="ti ti-lock-check"></i> Governance</h3><p class="muted">ไม่ส่งข้อมูลออกนอกเบราว์เซอร์ (local only)</p></div></div></div></section><section id="upload"><div class="container"><div class="toolbar"><h2 style="font-family:Poppins;margin:0">อัปโหลดข้อมูล</h2><div class="flex"><input type="file" id="fileA" accept=".csv,.json"/><input type="file" id="fileB" accept=".csv,.json"/><button class="btn" id="btnLoad"><i class="ti ti-player-play"></i> โหลดข้อมูล</button></div></div><div id="schema" class="muted">กรุณาเลือกไฟล์ A และ B เพื่อเปรียบเทียบ</div></div></section><section id="compare"><div class="container"><div class="toolbar"><h2 style="font-family:Poppins;margin:0">Comparison</h2><div class="flex"><label class="chip">Threshold <input id="th" type="range" min="0" max="1" step="0.05" value="0.3"/></label><button class="btn" id="btnDrill"><i class="ti ti-focus-2"></i> Drill-down</button><button class="btn" id="btnExportCsv"><i class="ti ti-file-type-csv"></i> CSV</button><button class="btn" id="btnExportPng"><i class="ti ti-photo"></i> PNG</button></div></div><div class="grid-2"><div class="card"><div class="flex" style="justify-content:space-between"><strong>Heatmap</strong><span class="muted" id="legend">0 → 1</span></div><div id="heatmap" style="display:grid;grid-template-columns:repeat(5,1fr);gap:6px;margin-top:10px"></div></div><div class="card"><strong>Highlights</strong><div id="highlights" style="display:flex;flex-wrap:wrap;gap:8px;margin-top:10px"></div><div id="drill" class="muted" style="margin-top:12px">คลิก cell จาก heatmap เพื่อเจาะลึก</div></div></div><div class="card" style="margin-top:16px"><strong>ตารางสรุป</strong><div id="table"></div></div></div></section><section id="export"><div class="container"><h2 style="font-family:Poppins;margin:0 0 10px">การส่งออก</h2><p class="muted">สามารถส่งออกผลลัพธ์เป็น CSV หรือบันทึกภาพ PNG ของ heatmap</p></div></section><footer class="footer"><div class="container">© 2025 OrbitGrid LiveBench. All rights reserved.</div></footer><iframe class="hidden" name="dl"></iframe><script>function parseCSV(text){const [headerLine,...lines]=text.trim().split(/\r?\n/);const headers=headerLine.split(',');return lines.filter(Boolean).map(l=>{const cells=l.split(',');const row={};headers.forEach((h,i)=>row[h]=cells[i]);return row})}async function readFile(input){const f=input.files?.[0];if(!f) return null;const txt=await f.text();if(/\.json$/i.test(f.name)) return JSON.parse(txt);return parseCSV(txt)}const num=v=>{const n=Number(v);return Number.isFinite(n)?n:null};let dataA=null,dataB=null,lastMatrix=[];async function load(){dataA=await readFile(document.getElementById('fileA'));dataB=await readFile(document.getElementById('fileB'));const s=document.getElementById('schema');if(!dataA||!dataB){s.textContent='กรุณาเลือกไฟล์ให้ครบทั้ง A และ B';return}const keysA=Object.keys(dataA[0]||{}),keysB=Object.keys(dataB[0]||{});const common=keysA.filter(k=>keysB.includes(k));const numeric=common.filter(k=>num(dataA[0][k])!=null&&num(dataB[0][k])!=null);s.textContent=`Fields ที่เทียบได้: ${numeric.join(', ')||'ไม่มี'}`;const rows=Math.min(5,dataA.length,dataB.length);const cols=Math.min(5,numeric.length);const matrix=[];for(let r=0;r<rows;r++){const row=[];for(let c=0;c<cols;c++){const k=numeric[c];const a=num(dataA[r][k]);const b=num(dataB[r][k]);const diff=(a==null||b==null)?0:Math.abs(a-b)/(Math.abs(a)+Math.abs(b)||1);row.push({k,r,c,diff,a,b})}matrix.push(row)}lastMatrix=matrix;renderHeatmap();renderHighlights();renderTable()}function colorFor(v){const r=v<0.5?Math.round(255*v*2):255;const g=v<0.5?255:Math.round(255*(1-(v-0.5)*2));const b=Math.round(120*(1-v));return `rgb(${r},${g},${b})`}function renderHeatmap(){const th=parseFloat(document.getElementById('th').value);const el=document.getElementById('heatmap');el.innerHTML='';lastMatrix.forEach((row,ri)=>{row.forEach((cell,ci)=>{const d=document.createElement('div');const v=cell.diff;d.title=`row ${ri+1} col ${cell.k}: diff=${v.toFixed(2)}`;d.style.cssText=`height:36px;border-radius:8px;background:${colorFor(v)};outline:${v>th?'2px solid #111':''}`;d.addEventListener('click',()=>{document.getElementById('drill').textContent=`Row ${ri+1} ${cell.k}: A=${cell.a} B=${cell.b} | diff=${v.toFixed(3)}`});el.appendChild(d)})})}function renderHighlights(){const th=parseFloat(document.getElementById('th').value);const el=document.getElementById('highlights');el.innerHTML='';const flat=lastMatrix.flat();flat.sort((a,b)=>b.diff-a.diff).slice(0,10).forEach(cell=>{const chip=document.createElement('span');chip.className='chip';const hot=cell.diff>th;chip.style.background=hot?'#fff5f5':'#f0fdf9';chip.style.borderColor=hot?'#ffd7d7':'#ccfbf1';chip.textContent=`${cell.k} r${cell.r+1} Δ=${cell.diff.toFixed(2)}`;el.appendChild(chip)})}function renderTable(){const el=document.getElementById('table');el.innerHTML='';const t=document.createElement('table');const thead=document.createElement('thead');thead.innerHTML='<tr><th>Row</th><th>Field</th><th>A</th><th>B</th><th>Δ</th></tr>';t.appendChild(thead);const tb=document.createElement('tbody');lastMatrix.forEach((row,ri)=>{row.forEach(cell=>{const tr=document.createElement('tr');tr.innerHTML=`<td>${ri+1}</td><td>${cell.k}</td><td>${cell.a??''}</td><td>${cell.b??''}</td><td>${cell.diff.toFixed(3)}</td>`;tb.appendChild(tr)})});t.appendChild(tb);el.appendChild(t)}function exportCSV(){const rows=[['row','field','A','B','diff']];lastMatrix.forEach((row,ri)=>row.forEach(cell=>rows.push([ri+1,cell.k,cell.a,cell.b,cell.diff])));const csv=rows.map(r=>r.join(',')).join('\n');const blob=new Blob([csv],{type:'text/csv'});const a=document.createElement('a');a.href=URL.createObjectURL(blob);a.download='comparison.csv';a.click();URL.revokeObjectURL(a.href)}async function exportPNG(){const heat=document.getElementById('heatmap');const rect=heat.getBoundingClientRect();const w=rect.width,h=rect.height;const canvas=document.createElement('canvas');canvas.width=w;canvas.height=h;const ctx=canvas.getContext('2d');const cells=[...heat.children];const cols=5;const gap=6;const cw=(w-(cols-1)*gap)/cols;const ch=36;cells.forEach((c,i)=>{const col=i%cols,row=Math.floor(i/cols);const x=col*(cw+gap),y=row*(ch+gap);ctx.fillStyle=getComputedStyle(c).backgroundColor;ctx.fillRect(x,y,cw,ch)});canvas.toBlob(b=>{const a=document.createElement('a');a.href=URL.createObjectURL(b);a.download='heatmap.png';a.click();URL.revokeObjectURL(a.href)})}document.getElementById('btnLoad').addEventListener('click',load);document.getElementById('th').addEventListener('input',()=>{renderHeatmap();renderHighlights()});document.getElementById('btnExportCsv').addEventListener('click',exportCSV);document.getElementById('btnExportPng').addEventListener('click',exportPNG);</script></body></html>
